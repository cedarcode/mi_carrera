// cytoscape-dagre@2.5.0 downloaded from https://ga.jspm.io/npm:cytoscape-dagre@2.5.0/cytoscape-dagre.js

import*as e from"dagre";var r="default"in e?e.default:e;var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var n={};(function webpackUniversalModuleDefinition(e,t){n=t(r)})(0,(function(e){return function(e){var r={};function __webpack_require__(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:false,exports:{}};e[t].call(n.exports,n,n.exports,__webpack_require__);n.l=true;return n.exports}__webpack_require__.m=e;__webpack_require__.c=r;__webpack_require__.d=function(e,r,t){__webpack_require__.o(e,r)||Object.defineProperty(e,r,{enumerable:true,get:t})};__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:true})};__webpack_require__.t=function(e,r){1&r&&(e=__webpack_require__(e));if(8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);__webpack_require__.r(t);Object.defineProperty(t,"default",{enumerable:true,value:e});if(2&r&&"string"!=typeof e)for(var n in e)__webpack_require__.d(t,n,function(r){return e[r]}.bind(null,n));return t};__webpack_require__.n=function(e){var r=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};__webpack_require__.d(r,"a",r);return r};__webpack_require__.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=0)}([function(e,r,t){var n=t(1);var o=function register(e){e&&e("layout","dagre",n)};"undefined"!==typeof cytoscape&&o(cytoscape);e.exports=o},function(e,r,n){function _typeof(e){_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return _typeof(e)}var o=function isFunction(e){return"function"===typeof e};var i=n(2);var a=n(3);var u=n(4);function DagreLayout(e){(this||t).options=a({},i,e)}DagreLayout.prototype.run=function(){var e=(this||t).options;var r=this||t;var n=e.cy;var i=e.eles;var a=function getVal(e,r){return o(r)?r.apply(e,[e]):r};var c=e.boundingBox||{x1:0,y1:0,w:n.width(),h:n.height()};void 0===c.x2&&(c.x2=c.x1+c.w);void 0===c.w&&(c.w=c.x2-c.x1);void 0===c.y2&&(c.y2=c.y1+c.h);void 0===c.h&&(c.h=c.y2-c.y1);var f=new u.graphlib.Graph({multigraph:true,compound:true});var _={};var s=function setGObj(e,r){null!=r&&(_[e]=r)};s("nodesep",e.nodeSep);s("edgesep",e.edgeSep);s("ranksep",e.rankSep);s("rankdir",e.rankDir);s("align",e.align);s("ranker",e.ranker);s("acyclicer",e.acyclicer);f.setGraph(_);f.setDefaultEdgeLabel((function(){return{}}));f.setDefaultNodeLabel((function(){return{}}));var d=i.nodes();o(e.sort)&&(d=d.sort(e.sort));for(var l=0;l<d.length;l++){var p=d[l];var y=p.layoutDimensions(e);f.setNode(p.id(),{width:y.w,height:y.h,name:p.id()})}for(var v=0;v<d.length;v++){var g=d[v];g.isChild()&&f.setParent(g.id(),g.parent().id())}var b=i.edges().stdFilter((function(e){return!e.source().isParent()&&!e.target().isParent()}));o(e.sort)&&(b=b.sort(e.sort));for(var h=0;h<b.length;h++){var x=b[h];f.setEdge(x.source().id(),x.target().id(),{minlen:a(x,e.minLen),weight:a(x,e.edgeWeight),name:x.id()},x.id())}u.layout(f);var m=f.nodes();for(var w=0;w<m.length;w++){var k=m[w];var q=f.node(k);n.getElementById(k).scratch().dagre=q}var S;if(e.boundingBox){S={x1:Infinity,x2:-Infinity,y1:Infinity,y2:-Infinity};d.forEach((function(e){var r=e.scratch().dagre;S.x1=Math.min(S.x1,r.x);S.x2=Math.max(S.x2,r.x);S.y1=Math.min(S.y1,r.y);S.y2=Math.max(S.y2,r.y)}));S.w=S.x2-S.x1;S.h=S.y2-S.y1}else S=c;var j=function constrainPos(r){if(e.boundingBox){var t=0===S.w?0:(r.x-S.x1)/S.w;var n=0===S.h?0:(r.y-S.y1)/S.h;return{x:c.x1+t*c.w,y:c.y1+n*c.h}}return r};d.layoutPositions(r,e,(function(e){e="object"===_typeof(e)?e:this||t;var r=e.scratch().dagre;return j({x:r.x,y:r.y})}));return this||t};e.exports=DagreLayout},function(e,r){var t={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function minLen(e){return 1},edgeWeight:function edgeWeight(e){return 1},fit:true,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:false,animate:false,animateFilter:function animateFilter(e,r){return true},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function transform(e,r){return r},ready:function ready(){},sort:void 0,stop:function stop(){}};e.exports=t},function(e,r){e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];t.forEach((function(r){Object.keys(r).forEach((function(t){return e[t]=r[t]}))}));return e}},function(r,t){r.exports=e}])}));var o=n;const i=n.cytoscapeDagre,a=n.__esModule;export{a as __esModule,i as cytoscapeDagre,o as default};

