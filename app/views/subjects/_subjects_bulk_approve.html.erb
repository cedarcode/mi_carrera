<%= render "approvals/spinner_template" %>

<div data-controller="bedel loading <%= "confetti" if @graduated %>" id="subjects" >
  <% if @category.present? %>
    <%= turbo_frame_tag :subjects_category, @category, target: :_top do %>
      <ul role="list">
        <% if @subjects.any? %>
          <%= render @subjects %>
        <% else %>
          <li class="flex gap-x-4 p-3 justify-between items-center text-sm/6 text-gray-900">
            No hay meterias disponibles para esta categor√≠a.
          </li>
        <% end %>
      </ul>
    <% end %>
  <% else %>
    <% Subject::CATEGORIES.each do |category| %>
      <div class="flex items-center h-[50px] border-y border-t-gray-100 border-b-gray-200 bg-gray-50 px-3 py-1.5 text-sm/6 font-semibold text-gray-900">
        <h3 class="grow"><%= formatted_category(category.to_s) %></h3>
        <h3 class='w-[50px] text-center'>Curso</h3>
        <h3 class='w-[50px] text-center'>Examen</h3>
      </div>

      <%= turbo_frame_tag :subjects_category, category, src: subjects_path(category:), target: :_top do %>
        <%= render "shared/spinner" %>
      <% end %>
    <% end %>
  <% end %>
</div>
